(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-center-detail"],{"0f2b":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".page[data-v-0bd6c0ff]{width:100%}.pass[data-v-0bd6c0ff]{padding:%?40?% %?40?% %?0?%}.body[data-v-0bd6c0ff]{padding:%?0?% %?40?%;border-bottom:%?1?% solid #eee}.img1[data-v-0bd6c0ff]{color:#ddd;height:%?300?%;font-size:%?40?%;text-align:center;line-height:%?300?%;background-color:#fff;border:%?4?% dashed #ddd}.body .image[data-v-0bd6c0ff]{height:%?300?%}.uni-input[data-v-0bd6c0ff]{color:#6d6d72;font-size:%?34?%}",""])},"2bb0":function(e,t,i){"use strict";var n=i("7006"),o=i.n(n);o.a},"5fad":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _service=_interopRequireDefault(__webpack_require__("00d8")),_uniIcon=_interopRequireDefault(__webpack_require__("2bde")),_card=_interopRequireDefault(__webpack_require__("f19b")),_footer_nav=_interopRequireDefault(__webpack_require__("3444"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default={components:{uniIcon:_uniIcon.default,mpvuePicker:_card.default,footerNav:_footer_nav.default},data:function(){return{pickerSingleArray:[],user:uni.getStorageSync("user"),id:uni.getStorageSync("card_id"),token:uni.getStorageSync("token"),titleofaccount:"",account:"",mobile:"",verifycode:"",imageSrc:"",countdown:62,radio:1,themeColor:"#007AFF",pickerText:"",mode:"",type:"",image:"display:none;",deepLength:1,pickerValueDefault:[0]}},onShow:function(){this.mobile=this.user.account,_service.default.auth(this,_service.default.api.center.type+"?token="+this.token,{},function(e,t){if(1==t.code){var i=t.data.typelist;e.pickerSingleArray=i,console.log(i)}}),_service.default.auth(this,_service.default.api.center.card+"?token="+this.token,{},function(e,t){if(1==t.code)for(var i=t.data.methodlist,n=0;n<i.length;n++)i[n].id==e.id&&(e.titleofaccount=i[n].titleofaccount,e.account=i[n].account,e.type=i[n].type,e.pickerText=i[n].typename,e.imageSrc=i[n].paymentcode,""==i[n].paymentcode?e.image="display:none;":e.image="display:block;")})},methods:{back:function(e){uni.navigateTo({url:e})},chooseImage:function(){var e=this;uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(t){var i=t.tempFilePaths[0];e.imageSrc=i},fail:function(e){console.log("chooseImage fail",e)}})},verification:function(){var e=this;uni.request({url:_service.default.api.center.code,method:"GET",data:{token:this.token,account:this.mobile},success:function(t){t=t.data;uni.showToast({icon:"none",title:t.msg}),1==t.code&&e.codetime(e,60)}})},codetime:function(e,t){e.countdown=t<10?"0"+t:t,t--,t<0?e.countdown=61:setTimeout(function(){e.codetime(e,t)},1e3)},showSinglePicker:function(){this.mode="selector",this.deepLength=1,this.pickerValueDefault=[0],this.$refs.mpvuePicker.show()},onConfirm:function(e){this.imageSrc="",this.pickerText=e.name,this.code=e.ispaymentcode,this.type=e.type,0==e.ispaymentcode?this.image="display:none;":this.image="display:block;"},update:function update(){6==this.verifycode.length?""!=this.type?""!=this.name?""!=this.account?1!=this.code||""!=this.imageSrc?(self=this,uni.showModal({content:"確認將M分轉贈嗎？",cancelText:"取消",confirmText:"確認",confirmColor:"#FFAE00",cancelColor:"#D2D2D2",success:function success(res){if(res.confirm)var uploadTask=uni.uploadFile({url:_service.default.api.center.submit+"?token="+self.token,filePath:self.imageSrc,name:"file",formData:{id:self.id,type:self.type,titleofaccount:self.titleofaccount,account:self.account,verifycode:self.verifycode,ispaymentcode:self.type,paymentcode:self.imageSrc},success:function success(res){res=res.data,console.log(res),res=eval("("+res+")"),uni.showToast({icon:"none",title:res.msg}),1==res.code&&setTimeout(function(){uni.navigateTo({url:"/pages/center/card"})},1e3)}})}})):uni.showToast({icon:"none",title:"請上傳付款憑證"}):uni.showToast({icon:"none",title:"請輸入賬戶賬號"}):uni.showToast({icon:"none",title:"請輸入賬戶名稱"}):uni.showToast({icon:"none",title:"銀行未選擇"}):uni.showToast({icon:"none",title:"請輸入六位驗證碼"})}}};exports.default=_default},7006:function(e,t,i){var n=i("0f2b");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("0b7dcc60",n,!0,{sourceMap:!1,shadowMode:!1})},ab52:function(e,t,i){"use strict";i.r(t);var n=i("5fad"),o=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);t["default"]=o.a},bfc8:function(e,t,i){"use strict";i.r(t);var n=i("ca96"),o=i("ab52");for(var a in o)"default"!==a&&function(e){i.d(t,e,function(){return o[e]})}(a);i("2bb0");var c=i("2877"),s=Object(c["a"])(o["default"],n["a"],n["b"],!1,null,"0bd6c0ff",null);t["default"]=s.exports},ca96:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"page"},[i("v-uni-view",{staticClass:"back"},[i("uni-icon",{attrs:{size:"28",type:"arrowleft"},on:{click:function(t){t=e.$handleEvent(t),e.back("/pages/center/card")}}})],1),i("v-uni-view",{staticClass:"pass"},[i("v-uni-view",{staticClass:"log-input"},[i("v-uni-text",[e._v("銀行")]),i("v-uni-view",{staticClass:"uni-input",attrs:{type:"default"},on:{click:function(t){t=e.$handleEvent(t),e.showSinglePicker(t)}}},[e._v(e._s(e.pickerText))])],1),i("v-uni-view",{staticClass:"log-input"},[i("v-uni-text",[e._v("賬戶名稱")]),i("v-uni-input",{attrs:{type:"text",maxlength:"20",placeholder:"請填入賬戶名稱"},model:{value:e.titleofaccount,callback:function(t){e.titleofaccount=t},expression:"titleofaccount"}})],1),i("v-uni-view",{staticClass:"log-input"},[i("v-uni-text",[e._v("賬戶賬號")]),i("v-uni-input",{attrs:{type:"text",maxlength:"20",placeholder:"請填入賬戶賬號"},model:{value:e.account,callback:function(t){e.account=t},expression:"account"}})],1)],1),i("v-uni-view",{staticClass:"body",style:e.image},[i("v-uni-view",{staticClass:"text1"},[e._v("上傳收款二維碼：")]),e.imageSrc?[i("v-uni-image",{staticClass:"image",attrs:{src:e.imageSrc,mode:"widthFix"},on:{click:function(t){t=e.$handleEvent(t),e.chooseImage(t)}}})]:[i("v-uni-view",{staticClass:"img1"},[i("v-uni-view",{staticClass:"uni-hello-addfile",on:{click:function(t){t=e.$handleEvent(t),e.chooseImage(t)}}},[e._v("上傳收款二維碼")])],1)]],2),i("v-uni-view",{staticClass:"body"},[i("v-uni-view",{staticClass:"code"},[i("v-uni-input",{attrs:{type:"number",maxlength:"6",placeholder:"請輸入六位驗證碼"},model:{value:e.verifycode,callback:function(t){e.verifycode=t},expression:"verifycode"}}),e.countdown>61?i("v-uni-button",{staticClass:"check",on:{click:function(t){t=e.$handleEvent(t),e.verification(t)}}},[e._v("獲取驗證碼")]):e._e(),61==e.countdown?i("v-uni-button",{staticClass:"check",on:{click:function(t){t=e.$handleEvent(t),e.verification(t)}}},[e._v("重新獲取")]):e._e(),e.countdown<61?i("v-uni-button",{staticClass:"check",attrs:{disabled:"true"}},[e._v(e._s(e.countdown)+"秒")]):e._e()],1),i("v-uni-button",{staticClass:"btn-area",on:{click:function(t){t=e.$handleEvent(t),e.update(t)}}},[e._v("確認修改")])],1),i("mpvue-picker",{ref:"mpvuePicker",attrs:{themeColor:e.themeColor,mode:e.mode,deepLength:e.deepLength,pickerValueDefault:e.pickerValueDefault,pickerValueArray:e.pickerSingleArray},on:{onConfirm:function(t){t=e.$handleEvent(t),e.onConfirm(t)}}}),i("footerNav")],1)},o=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return o})}}]);