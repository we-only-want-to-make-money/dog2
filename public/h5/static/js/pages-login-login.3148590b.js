(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"00d8":function(t,e,o){"use strict";function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(e){i(t,e,o[e])})}return t}function i(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r="USER_KEY",a="TOKEN_KEY",s=function(){var t="";return t=uni.getStorageSync(r),t||{avatar:"../../static/img/avatar.png",bottom_text:"广州锐合技术支持QQ：8396048",level_name:"普通会员",nickname:"锐合网络",uid:0,icode:"18024553545"}},u=function(t){uni.setStorage({key:r,data:t})},d=function(t){uni.setStorageSync(a,t)},c=function(){return uni.getStorageSync(a)},l=function(){uni.clearStorage()},g=function(t){uni.setStorageSync("uid",t)},f=function(){return uni.getStorageSync("uid")},p=function(t){uni.setStorageSync("logid",t)},m=function(){return uni.getStorageSync("logid")},b="/",v={index:b+"default/index",home:{info:b+"port/member/info"},main:{bazaar:b+"port/index/index",order:b+"port/index/appointment",adopt:b+"port/index/adopt"},center:{code:b+"port/member/verifycode",password:b+"port/member/changePwd",passtwo:b+"port/member/changePwd2",pid:b+"port/member/realname",close:b+"port/member/changeMethodStatus",card:b+"port/member/myPaymentMethod",type:b+"port/member/getPaymentType",submit:b+"port/member/submitMethod",message:b+"port/member/systemMessage",team:b+"port/member/myTeam",friends:b+"port/member/inviteFriends"},service:{insert:b+"port/server_center/workorder",submit:b+"port/server_center/submitWorkorder",order:b+"port/server_center/workorderList"},login:{login:b+"port/login",logo:b+"port/login/get_enter_logo",forget:b+"port/login/forgetpwd"},reg:{register:b+"port/login/register",code:b+"port/login/verifycode",agree:b+"port/login/get_user_regagree"},interests:{qrcode:b+"port/member/integralLog",integral:b+"port/member/integralLog",roll:b+"port/member/givingIntegral",sell:b+"port/member/assetSale"},record:{pay:b+"port/order/pay",adopt:b+"port/order/index",make:b+"port/member/appointment",update:b+"port/order/pay",passtwo:b+"port/order/auditPass",submit:b+"port/order/complaint",complaint:b+"record/payment",transfer:b+"port/order/transfer",details:b+"port/order/detail",undo:b+"port/order/detail"}},h=function(t,e,o,i){var r=this,a=uni.getStorageSync("token");""==a&&uni.reLaunch({url:"/pages/login/login"});o=n({token:uni.getStorageSync("token")},o);uni.request({url:e,method:"GET",data:o,success:function(e){e=e.data;1==e.code?i(t,e):400==e.code?(uni.setStorageSync("token",""),setTimeout(function(){uni.reLaunch({url:"/pages/login/login"})},2e3)):uni.showToast({icon:"none",title:e.msg})},fail:function(t){console.log(t),uni.showToast({icon:"none",title:"网站消息获取错误"})},complete:function(t){t=t.data;13==t.code&&(uni.showToast({icon:"none",title:t.msg}),r.removeToken(),uni.reLaunch({url:"/pages/login/login"})),uni.hideLoading()}})},w={api:v,auth:h,setToken:d,getToken:c,removeToken:l,getUserInfo:s,setUserInfo:u,setId:g,getId:f,setLogid:p,getLogid:m};e.default=w},"65eb":function(t,e,o){"use strict";o.r(e);var n=o("8b6c"),i=o("91fc");for(var r in i)"default"!==r&&function(t){o.d(e,t,function(){return i[t]})}(r);o("8ae8");var a=o("2877"),s=Object(a["a"])(i["default"],n["a"],n["b"],!1,null,"7711db50",null);e["default"]=s.exports},"8ae8":function(t,e,o){"use strict";var n=o("af5b"),i=o.n(n);i.a},"8b6c":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"content"},[o("v-uni-view",[o("v-uni-view",{staticClass:"log-lable"},[o("v-uni-image",{staticStyle:{height:"126upx"},attrs:{src:t.logo,mode:"aspectFit"}})],1)],1),o("v-uni-view",{staticClass:"login"},[o("v-uni-view",{staticClass:"log-input"},[o("v-uni-text",[t._v("账   号")]),o("v-uni-input",{attrs:{type:"text",maxlength:"20",placeholder:"请输入您的账号"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),o("v-uni-view",{staticClass:"log-input"},[o("v-uni-text",[t._v("密   码")]),o("v-uni-input",{attrs:{type:"text",password:"true",maxlength:"20",placeholder:"请输入您的密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),o("v-uni-button",{staticClass:"btn-area",on:{click:function(e){e=t.$handleEvent(e),t.bindLogin(e)}}},[t._v("提交")]),o("v-uni-view",{staticClass:"log-bottom"},[o("v-uni-navigator",{staticClass:"bottom-left",attrs:{url:"../login/forget"}},[t._v("忘记密码")]),o("v-uni-navigator",{staticClass:"bottom-right",attrs:{url:"../reg/reg"}},[t._v("我要注册")])],1)],1)],1)},i=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return i})},"91fc":function(t,e,o){"use strict";o.r(e);var n=o("efc3"),i=o.n(n);for(var r in n)"default"!==r&&function(t){o.d(e,t,function(){return n[t]})}(r);e["default"]=i.a},af5b:function(t,e,o){var n=o("bce8");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=o("4f06").default;i("381e34b6",n,!0,{sourceMap:!1,shadowMode:!1})},bce8:function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,".content[data-v-7711db50]{padding:%?40?%;background:-webkit-gradient(linear,left top,right bottom,from(#33b7e3),color-stop(50%,#2777e9),to(#5d8afd));background:-o-linear-gradient(left top,#33b7e3 0,#2777e9 50%,#5d8afd 100%);background:linear-gradient(to right bottom,#33b7e3 0,#2777e9 50%,#5d8afd)}.login[data-v-7711db50]{background:#fff;padding:%?80?% %?32?%}.log-lable[data-v-7711db50]{width:100%;font-size:%?48?%;font-weight:700;text-align:center;margin:%?100?% %?0?%;color:#000}.log-prompt[data-v-7711db50]{width:100%;height:%?24?%;font-size:%?24?%;font-weight:500;margin-top:%?80?%;line-height:%?46?%;color:#999}.log-input[data-v-7711db50]{height:%?90?%;line-height:%?90?%;padding-left:%?40?%;background:#f1f1f1;border-radius:%?45?%;margin-bottom:%?40?%}.log-input uni-text[data-v-7711db50]{width:25%}uni-input[data-v-7711db50]{width:%?400?%}.log-remark[data-v-7711db50]{width:100%;height:%?18?%;font-size:%?19?%;font-weight:500;margin-top:%?30?%;line-height:%?46?%;color:#656565}.btn-area[data-v-7711db50]{margin:%?60?% %?0?%}.log-bottom uni-navigator[data-v-7711db50]{font-size:%?30?%;font-weight:400;color:#6d6b6b}.bottom-left[data-v-7711db50]{float:left}.bottom-right[data-v-7711db50]{float:right}",""])},efc3:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o("00d8"));function i(t){return t&&t.__esModule?t:{default:t}}var r={data:function(){return{username:"",password:"",logo:""}},methods:{checkLogin:function(){var t=this;uni.request({url:n.default.api.login.logo,method:"GET",success:function(e){e=e.data;1==e.code&&(t.logo=e.data.site_logo)},error:function(t){uni.showToast({icon:"none",title:"请求站点信息错误"})}});var e=n.default.getToken();""!==e&&uni.request({url:n.default.api.login.check,method:"GET",data:{token:e},success:function(t){t=t.data;if(1!=t.code)return n.default.removeToken(),void uni.showToast({icon:"none",title:t.msg});n.default.setToken(t.data.token),uni.reLaunch({url:"/pages/main/bazaar"})},error:function(t){uni.showToast({icon:"none",title:"请求站点信息错误"})}})},initPosition:function(){this.positionTop=uni.getSystemInfoSync().windowHeight-100},bindLogin:function(){self=this,self.username.length<1?uni.showToast({icon:"none",title:"账号最短为 1 个字符"}):self.password.length<6?uni.showToast({icon:"none",title:"密码最短为 6 个字符"}):(uni.showLoading({title:"登录中..."}),uni.request({url:n.default.api.login.login,method:"POST",data:{account:self.username,password:self.password},success:function(t){t=t.data;if(1!=t.code)return self.password="",n.default.removeToken(),void uni.showToast({icon:"none",title:t.msg});uni.setStorageSync("token",t.data.token),uni.reLaunch({url:"/pages/main/bazaar"})},error:function(t){uni.showToast({icon:"none",title:"请求站点信息错误"})}}))}},onLoad:function(){this.checkLogin(),this.initPosition()}};e.default=r}}]);