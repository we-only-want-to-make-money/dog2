(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"00d8":function(t,e,o){"use strict";function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(e){r(t,e,o[e])})}return t}function r(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i="USER_KEY",a="TOKEN_KEY",s=function(){var t="";return t=uni.getStorageSync(i),t||{avatar:"../../static/img/avatar.png",bottom_text:"广州锐合技术支持QQ：8396048",level_name:"普通会员",nickname:"锐合网络",uid:0,icode:"18024553545"}},u=function(t){uni.setStorage({key:i,data:t})},c=function(t){uni.setStorageSync(a,t)},l=function(){return uni.getStorageSync(a)},d=function(){uni.clearStorage()},g=function(t){uni.setStorageSync("uid",t)},f=function(){return uni.getStorageSync("uid")},p=function(t){uni.setStorageSync("logid",t)},m=function(){return uni.getStorageSync("logid")},v="/",h={index:v+"default/index",home:{info:v+"port/member/info"},main:{bazaar:v+"port/index/index",order:v+"port/index/appointment",adopt:v+"port/index/adopt",info:v+"port/index/confInfo",notice:v+"port/index/notice"},center:{code:v+"port/member/verifycode",password:v+"port/member/changePwd",passtwo:v+"port/member/changePwd2",pid:v+"port/member/realname",close:v+"port/member/changeMethodStatus",card:v+"port/member/myPaymentMethod",type:v+"port/member/getPaymentType",submit:v+"port/member/submitMethod",message:v+"port/member/systemMessage",team:v+"port/member/myTeam",friends:v+"port/member/inviteFriends"},service:{insert:v+"port/server_center/workorder",submit:v+"port/server_center/submitWorkorder",order:v+"port/server_center/workorderList"},login:{login:v+"port/login",logo:v+"port/login/get_enter_logo",forget:v+"port/login/forgetpwd"},reg:{register:v+"port/login/register",code:v+"port/login/verifycode",agree:v+"port/login/get_user_regagree"},interests:{qrcode:v+"port/member/recharge",integral:v+"port/member/integralLog",roll:v+"port/member/givingIntegral",sell:v+"port/member/assetSale",submit:v+"port/member/rechargeSubmit"},record:{pay:v+"port/order/pay",adopt:v+"port/order/index",make:v+"port/member/appointment",update:v+"port/order/pay",passtwo:v+"port/order/auditPass",submit:v+"port/order/complaint",complaint:v+"record/payment",transfer:v+"port/order/transfer",details:v+"port/order/detail",undo:v+"port/order/detail"}},b=function(t,e,o,r){var i=this,a=uni.getStorageSync("token");""==a&&uni.reLaunch({url:"/pages/login/login"});o=n({token:uni.getStorageSync("token")},o);uni.request({url:e,method:"GET",data:o,success:function(e){e=e.data;1==e.code?r(t,e):400==e.code?(uni.setStorageSync("token",""),setTimeout(function(){uni.reLaunch({url:"/pages/login/login"})},2e3)):uni.showToast({icon:"none",title:e.msg})},fail:function(t){console.log(t),uni.showToast({icon:"none",title:"网站消息获取错误"})},complete:function(t){t=t.data;13==t.code&&(uni.showToast({icon:"none",title:t.msg}),i.removeToken(),uni.reLaunch({url:"/pages/login/login"})),uni.hideLoading()}})},w={api:h,auth:b,setToken:c,getToken:l,removeToken:d,getUserInfo:s,setUserInfo:u,setId:g,getId:f,setLogid:p,getLogid:m};e.default=w},"3d82":function(t,e,o){var n=o("3e36");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=o("4f06").default;r("47bd635b",n,!0,{sourceMap:!1,shadowMode:!1})},"3e36":function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,".content[data-v-03fa7238]{padding:%?40?%;background:-webkit-gradient(linear,left top,right bottom,from(#33b7e3),color-stop(50%,#2777e9),to(#5d8afd));background:-o-linear-gradient(left top,#33b7e3 0,#2777e9 50%,#5d8afd 100%);background:linear-gradient(to right bottom,#33b7e3 0,#2777e9 50%,#5d8afd)}.login[data-v-03fa7238]{background:#fff;padding:%?80?% %?32?%}.log-lable[data-v-03fa7238]{width:100%;font-size:%?48?%;font-weight:700;text-align:center;margin:%?100?% %?0?%;color:#000}.log-prompt[data-v-03fa7238]{width:100%;height:%?24?%;font-size:%?24?%;font-weight:500;margin-top:%?80?%;line-height:%?46?%;color:#999}.log-input[data-v-03fa7238]{height:%?90?%;line-height:%?90?%;padding-left:%?40?%;background:#f1f1f1;border-radius:%?45?%;margin-bottom:%?40?%}.log-input uni-text[data-v-03fa7238]{width:25%}uni-input[data-v-03fa7238]{width:%?400?%}.log-remark[data-v-03fa7238]{width:100%;height:%?18?%;font-size:%?19?%;font-weight:500;margin-top:%?30?%;line-height:%?46?%;color:#656565}.btn-area[data-v-03fa7238]{margin:%?60?% %?0?%}.log-bottom uni-navigator[data-v-03fa7238]{font-size:%?30?%;font-weight:400;color:#6d6b6b}.bottom-left[data-v-03fa7238]{float:left}.bottom-right[data-v-03fa7238]{float:right}",""])},"65eb":function(t,e,o){"use strict";o.r(e);var n=o("8498"),r=o("91fc");for(var i in r)"default"!==i&&function(t){o.d(e,t,function(){return r[t]})}(i);o("fbc6");var a=o("2877"),s=Object(a["a"])(r["default"],n["a"],n["b"],!1,null,"03fa7238",null);e["default"]=s.exports},8498:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"content"},[o("v-uni-view",[o("v-uni-view",{staticClass:"log-lable"},[o("v-uni-image",{staticStyle:{height:"126upx"},attrs:{src:t.logo,mode:"aspectFit"}})],1)],1),o("v-uni-view",{staticClass:"login"},[o("v-uni-view",{staticClass:"log-input"},[o("v-uni-text",[t._v("賬   號")]),o("v-uni-input",{attrs:{type:"text",maxlength:"20",placeholder:"請輸入您的賬號"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),o("v-uni-view",{staticClass:"log-input"},[o("v-uni-text",[t._v("密   碼")]),o("v-uni-input",{attrs:{type:"text",password:"true",maxlength:"20",placeholder:"請輸入您的密碼"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),o("v-uni-button",{staticClass:"btn-area",on:{click:function(e){e=t.$handleEvent(e),t.bindLogin(e)}}},[t._v("提交")]),o("v-uni-view",{staticClass:"log-bottom"},[o("v-uni-navigator",{staticClass:"bottom-left",attrs:{url:"../login/forget"}},[t._v("忘記密碼")]),o("v-uni-navigator",{staticClass:"bottom-right",attrs:{url:"../reg/reg"}},[t._v("我要註冊")])],1)],1)],1)},r=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return r})},"91fc":function(t,e,o){"use strict";o.r(e);var n=o("efc3"),r=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,function(){return n[t]})}(i);e["default"]=r.a},efc3:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(o("00d8"));function r(t){return t&&t.__esModule?t:{default:t}}var i={data:function(){return{username:"",password:"",logo:""}},methods:{checkLogin:function(){var t=this;uni.request({url:n.default.api.login.logo,method:"GET",success:function(e){e=e.data;1==e.code&&(t.logo=e.data.site_logo)},error:function(t){uni.showToast({icon:"none",title:"請求站點信息錯誤"})}});var e=n.default.getToken();""!==e&&uni.request({url:n.default.api.login.check,method:"GET",data:{token:e},success:function(t){t=t.data;if(1!=t.code)return n.default.removeToken(),void uni.showToast({icon:"none",title:t.msg});n.default.setToken(t.data.token),uni.reLaunch({url:"/pages/main/bazaar"})},error:function(t){uni.showToast({icon:"none",title:"請求站點信息錯誤"})}})},initPosition:function(){this.positionTop=uni.getSystemInfoSync().windowHeight-100},bindLogin:function(){self=this,self.username.length<1?uni.showToast({icon:"none",title:"賬號最短為 1 個字符"}):self.password.length<6?uni.showToast({icon:"none",title:"密碼最短為 6 個字符"}):(uni.showLoading({title:"登錄中..."}),uni.request({url:n.default.api.login.login,method:"POST",data:{account:self.username,password:self.password},success:function(t){t=t.data;if(1!=t.code)return self.password="",n.default.removeToken(),void uni.showToast({icon:"none",title:t.msg});uni.setStorageSync("token",t.data.token),uni.reLaunch({url:"/pages/main/bazaar"})},error:function(t){uni.showToast({icon:"none",title:"請求站點信息錯誤"})}}))}},onLoad:function(){this.checkLogin(),this.initPosition()}};e.default=i},fbc6:function(t,e,o){"use strict";var n=o("3d82"),r=o.n(n);r.a}}]);