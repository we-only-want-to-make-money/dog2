(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-interests-roll"],{"00d8":function(t,e,n){"use strict";function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){i(t,e,n[e])})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r="USER_KEY",a="TOKEN_KEY",c=function(){var t="";return t=uni.getStorageSync(r),t||{avatar:"../../static/img/avatar.png",bottom_text:"广州锐合技术支持QQ：8396048",level_name:"普通会员",nickname:"锐合网络",uid:0,icode:"18024553545"}},u=function(t){uni.setStorage({key:r,data:t})},s=function(t){uni.setStorageSync(a,t)},l=function(){return uni.getStorageSync(a)},d=function(){uni.clearStorage()},f=function(t){uni.setStorageSync("uid",t)},g=function(){return uni.getStorageSync("uid")},p=function(t){uni.setStorageSync("logid",t)},m=function(){return uni.getStorageSync("logid")},v="http://blockcat.8396048.com/",b={index:v+"default/index",home:{info:v+"port/member/info"},main:{bazaar:v+"port/index/index",order:v+"port/index/appointment",adopt:v+"port/index/adopt",result:v+"port/index/adoptResult",info:v+"port/index/confInfo",notice:v+"port/index/notice"},center:{code:v+"port/member/verifycode",password:v+"port/member/changePwd",passtwo:v+"port/member/changePwd2",pid:v+"port/member/realname",close:v+"port/member/changeMethodStatus",card:v+"port/member/myPaymentMethod",type:v+"port/member/getPaymentType",submit:v+"port/member/submitMethod",message:v+"port/member/systemMessage",team:v+"port/member/myTeam",friends:v+"port/member/inviteFriends"},service:{insert:v+"port/server_center/workorder",submit:v+"port/server_center/submitWorkorder",order:v+"port/server_center/workorderList"},login:{login:v+"port/login",logo:v+"port/login/get_enter_logo",forget:v+"port/login/forgetpwd"},reg:{register:v+"port/login/register",code:v+"port/login/verifycode",agree:v+"port/login/get_user_regagree"},interests:{qrcode:v+"port/member/recharge",integral:v+"port/member/integralLog",roll:v+"port/member/givingIntegral",sell:v+"port/member/assetSale",submit:v+"port/member/rechargeSubmit",earnings:v+"port/member/incomeLog"},record:{pay:v+"port/order/pay",adopt:v+"port/order/index",make:v+"port/member/appointment",update:v+"port/order/pay",passtwo:v+"port/order/auditPass",submit:v+"port/order/complaint",complaint:v+"record/payment",transfer:v+"port/order/transfer",details:v+"port/order/detail",undo:v+"port/order/detail"}},h=function(t,e,n,i){var r=this,a=uni.getStorageSync("token");""==a&&(uni.setStorageSync("token",""),uni.reLaunch({url:"/pages/login/login"}));n=o({token:uni.getStorageSync("token")},n);uni.request({url:e,method:"GET",data:n,success:function(e){e=e.data;1==e.code?i(t,e):400==e.code?(uni.setStorageSync("token",""),setTimeout(function(){uni.reLaunch({url:"/pages/login/login"})},2e3)):uni.showToast({icon:"none",title:e.msg})},fail:function(t){console.log(t),uni.showToast({icon:"none",title:"网站消息获取错误"})},complete:function(t){t=t.data;13==t.code&&(uni.showToast({icon:"none",title:t.msg}),r.removeToken(),uni.reLaunch({url:"/pages/login/login"})),uni.hideLoading()}})},w={api:b,auth:h,setToken:s,getToken:l,removeToken:d,getUserInfo:c,setUserInfo:u,setId:f,getId:g,setLogid:p,getLogid:m};e.default=w},"0118":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".footer[data-v-a41350ac]{left:0;bottom:0;width:100%;color:#fff;z-index:1000;height:%?100?%;position:fixed;background:#181e30}.footer1[data-v-a41350ac]{left:0;bottom:0;width:100%;color:#fff;height:%?100?%;position:fixed;background-color:#fff}.footer_item[data-v-a41350ac]{float:left;width:33.3%;height:%?100?%;font-size:%?24?%;text-align:center;color:#7a7e83}.footer_item uni-image[data-v-a41350ac]{margin-top:%?10?%;width:%?46?%;height:%?46?%;margin-bottom:%?0?%}.footer_item.big_item[data-v-a41350ac]{top:%?-40?%;position:relative}.footer_item.big_item uni-image[data-v-a41350ac]{width:%?100?%;height:%?100?%}.actives[data-v-a41350ac]{color:#5d8afc}.actives1[data-v-a41350ac]{color:#5d8afc}",""])},"0d09":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[t.now_index<3?void 0:[n("v-uni-view",{staticClass:"footer1"},t._l(t.tabBar,function(e,o){return n("v-uni-view",{key:o,staticClass:"footer_item",staticStyle:{width:"50%"}},[n("v-uni-view",{on:{click:function(n){n=t.$handleEvent(n),t.jump(e.pagePath,e.id)}}},[n("v-uni-image",{attrs:{src:e.id==t.now_index?e.selectedIconPath:e.iconPath,mode:""}}),n("v-uni-view",{class:"tab_text "+(e.id==t.now_index?"actives1":"")},[t._v(t._s(e.text))])],1)],1)}),1)]],2)},i=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i})},"22c1":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{tabBar:[{id:3,iconPath:"/static/tabbar/refer.png",selectedIconPath:"/static/tabbar/referHL.png",pagePath:"/pages/service/repair",text:"提交工單"},{id:4,iconPath:"/static/tabbar/order.png",selectedIconPath:"/static/tabbar/orderHL.png",pagePath:"/pages/service/order",text:"我的工單"}],footer_nav:[{id:0,name:"貓貓集市",icon:"/static/tabbar/template.png",select_icon:"/static/tabbar/templateHL.png",pagePath:"/pages/main/bazaar"},{id:1,name:"服務中心",icon:"/static/tabbar/api.png",select_icon:"/static/tabbar/apiHL.png",pagePath:"/pages/main/service"},{id:2,name:"我的貓窩",icon:"/static/tabbar/component.png",select_icon:"/static/tabbar/componentHL.png",pagePath:"/pages/main/shack"}],now_index:uni.getStorageSync("css")}},methods:{jump:function(t,e){uni.setStorageSync("css",e),this.now_index=e,uni.navigateTo({url:t})}}};e.default=o},"2bde":function(t,e,n){"use strict";n.r(e);var o=n("7869"),i=n("8a4c");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var a=n("2877"),c=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,null,null);e["default"]=c.exports},3444:function(t,e,n){"use strict";n.r(e);var o=n("0d09"),i=n("d96f");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("5e46");var a=n("2877"),c=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,"a41350ac",null);e["default"]=c.exports},"5e46":function(t,e,n){"use strict";var o=n("d7e4"),i=n.n(o);i.a},7869:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-icon",class:["uni-icon-"+t.type],style:{color:t.color,"font-size":t.fontSize},on:{click:function(e){e=t.$handleEvent(e),t.onClick()}}})},i=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i})},"7dc5":function(t,e,n){"use strict";n.r(e);var o=n("fa2e"),i=n("9d66");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var a=n("2877"),c=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,"69eb967b",null);e["default"]=c.exports},"8a4c":function(t,e,n){"use strict";n.r(e);var o=n("ceb8"),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);e["default"]=i.a},"9d66":function(t,e,n){"use strict";n.r(e);var o=n("f152"),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);e["default"]=i.a},ceb8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={props:{type:String,color:String,size:[Number,String]},computed:{fontSize:function(){return"".concat(this.size,"px")}},methods:{onClick:function(){this.$emit("click")}}};e.default=o},d7e4:function(t,e,n){var o=n("0118");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("42aac8f7",o,!0,{sourceMap:!1,shadowMode:!1})},d96f:function(t,e,n){"use strict";n.r(e);var o=n("22c1"),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);e["default"]=i.a},f152:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("00d8")),i=a(n("2bde")),r=a(n("3444"));function a(t){return t&&t.__esModule?t:{default:t}}var c={components:{uniIcon:i.default,footerNav:r.default},data:function(){return{token:uni.getStorageSync("token"),user:uni.getStorageSync("user"),config:uni.getStorageSync("config"),integral:"",num:"",mobile:"",text:""}},onShow:function(){this.time(this),this.num=this.config.max_give,this.text="最高可轉出 "+this.config.max_give+" 分"},methods:{time:function(t){if(""!=t.integral){var e=t.integral-t.num;e>0&&uni.showToast({icon:"none",title:"超過限定的積分轉贈額度"})}setTimeout(function(){t.time(t)},5e3)},roll:function(){self=this;var t=self.token,e=self.integral-self.num;""!=self.integral?e>0?uni.showToast({icon:"none",title:"超過限定的積分轉贈額度"}):11==self.mobile.length?/^1[3|4|5|7|8][0-9]\d{8,11}$/.test(self.mobile)?uni.showModal({content:"確認將M分轉贈嗎？",cancelText:"取消",confirmText:"確認",confirmColor:"#FFAE00",cancelColor:"#D2D2D2",success:function(e){e.confirm&&uni.request({url:o.default.api.interests.roll,method:"GET",data:{token:t,mobile:self.mobile,integral:self.integral},success:function(t){t=t.data;uni.showToast({icon:"none",title:t.msg}),1==t.code&&setTimeout(function(){uni.navigateTo({url:"/pages/interests/integral"})},1e3)}})}}):uni.showToast({icon:"none",title:"手機號碼格式不正確"}):uni.showToast({icon:"none",title:"請輸入11位的手機號碼"}):uni.showToast({icon:"none",title:"轉贈積分數量不能為空"})}}};e.default=c},fa2e:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticStyle:{margin:"0 50upx"}},[n("v-uni-view",{staticClass:"text"},[t._v("M分壹但轉贈，不可退回！")]),n("v-uni-view",{staticClass:"margin"}),n("v-uni-view",{staticClass:"log-input"},[n("v-uni-text",[t._v("轉贈數量")]),n("v-uni-input",{attrs:{type:"text",maxlength:"20",placeholder:t.text},model:{value:t.integral,callback:function(e){t.integral=e},expression:"integral"}})],1),n("v-uni-view",{staticClass:"log-input"},[n("v-uni-text",[t._v("對方手機")]),n("v-uni-input",{attrs:{type:"text",maxlength:"11",placeholder:"請輸入手機號碼"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),n("v-uni-input",{staticClass:"hidden",attrs:{type:"text",value:t.num},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}}),n("v-uni-button",{staticClass:"btn-area",on:{click:function(e){e=t.$handleEvent(e),t.roll(e)}}},[t._v("確認轉贈")])],1),n("footerNav")],1)},i=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i})}}]);